<section class="mt-5 mb-5">
  <div class="container">
    <div class="row mt-5">
      <div class="col-md-8">
        <h1 class="display-4">{{ pergunta ? 'Edite' : 'Crie' }} sua pergunta</h1>
        <app-user *ngIf="!user$"></app-user>
        <h3 *ngIf="!pergunta" class="lead mb-5">Não passe mais sufoco, peça ajuda!</h3>
        <form role="form" [formGroup]="form" (ngSubmit)="onSubmit()" class="mt-3">
          <div class="form-group">
            <label for="titulo">Título</label>
            <input type="text" class="form-control form-control-lg" id="titulo" placeholder="Qual sua pergunta sobre programação? Seja específico." formControlName="titulo">
          </div>
          <div class="form-group">
            <label for="body">Descrição</label>
            <textarea id="body" class="form-control form-control-lg" rows="6" formControlName="body"></textarea>
          </div>
          <div class="form-group">
            <label for="orcamento">Orçamento Sugerido</label>
            <select class="custom-select form-control form-control-lg" id="orcamento" formControlName="orcamento">
              <option *ngFor="let orcamento of perguntasService.orcamentoArr; let i = index" [value]="i">{{ orcamento }}</option>
            </select>
          </div>
          <div class="form-group">
            <label for="categorias">Categorias</label>
            <angular2-multiselect
              [data]="dropdownList"
              [(ngModel)]="selectedItems"
              [settings]="dropdownSettings"
              (onSelect)="onItemSelect($event)"
              (onDeSelect)="OnItemDeSelect($event)"
              (onSelectAll)="onSelectAll($event)"
              (onDeSelectAll)="onDeSelectAll($event)"
              formControlName="categorias"
              id="categorias"
            ></angular2-multiselect>
          </div>
          <div class="form-group row mt-4">
            <div class="col-md-4">
              <div class="form-group">
                <input type="submit" class="btn btn-primary btn-block btn-lg" value="{{ pergunta ? 'Editar' : 'Postar' }} Pergunta">
              </div>
            </div>
            <div class="col-md-3">
              <div class="form-group">
                <a [routerLink]="['/']" class="btn btn-secondary btn-block btn-lg">Cancelar</a>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="col-md-4">
        <div class="card sticky-top">
          <div class="card-header bg-success text-white">
            <h5 class="text-center">
              <div *ngIf="!pergunta">
                <div>É Grátis Postar uma Pergunta</div>
                <strong>Tente Hoje!</strong>
              </div>
              <div *ngIf="pergunta">
                <div>Já sabe como funciona?</div>
              </div>
            </h5>
          </div>
          <div class="card-body">
            <ul class="list-group list-group-flush">
              <li class="list-group-item"><small>Receba ofertas de programadores qualificados em minutos.</small></li>
              <li class="list-group-item"><small>Veja os perfis dos programadores e os comentários recebidos, e converse com eles imediatamente!</small></li>
              <li class="list-group-item"><small>Seu programador favorito pode começar a trabalhar para você hoje!</small></li>
              <li class="list-group-item"><small>Pague o programador somente quando estiver 100% satisfeito.</small></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
